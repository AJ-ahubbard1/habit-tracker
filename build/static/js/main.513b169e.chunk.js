(this["webpackJsonpreact-task-tracker"]=this["webpackJsonpreact-task-tracker"]||[]).push([[0],{18:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(1),a=n.n(r),s=n(12),o=n.n(s),i=(n(18),n(5)),u=n(7),j=n(2),l=n.n(j),b=n(4),d=n(3),h=(n(20),function(t){var e=t.color,n=t.text,r=t.onClick;return Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:r,className:"btn",style:{backgroundColor:e},children:n})})});h.defaultProps={color:"steelblue",onClick:function(){console.log("click")}};var f=h,p=function(t){var e=t.title,n=t.showAddForm,r=t.showAdd;return Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)("h1",{children:e}),r?Object(c.jsx)(f,{color:"red",text:"Cancel",onClick:n}):Object(c.jsx)(f,{color:"green",text:"Add",onClick:n})]})};p.defaultProps={title:"Habit Tracker"};var O=p,x=n(10),m=n(6),v=function(t){var e=t.task,n=t.onDelete,r=t.onCount,a=t.showList,s=Object(x.a)(Date,Object(u.a)(e.timeSinceLast)).toDateString();return Object(c.jsxs)("div",{className:"task",children:[Object(c.jsxs)("h3",{children:[e.name,Object(c.jsx)(m.c,{style:{color:"red",cursor:"pointer"},onClick:function(){return n(e.id)}})]}),Object(c.jsxs)("p",{children:["count: ",e.count," ",Object(c.jsx)(m.b,{style:{color:"green",cursor:"pointer"},onClick:function(){return r(e.id)}})]}),Object(c.jsxs)("div",{children:["Last record: ",s,Object(c.jsx)(m.a,{onClick:function(){return a(e.id)}}),e.isListShown?e.occurrences.map((function(t){return Object(c.jsxs)("p",{children:[Object(x.a)(Date,Object(u.a)(t)).toDateString(),", ",Object(x.a)(Date,Object(u.a)(t)).toLocaleTimeString()]},t)})):""]})]})},g=function(t){var e=t.tasks,n=t.onDelete,r=t.onCount,a=t.showList;return Object(c.jsx)(c.Fragment,{children:e.map((function(t){return Object(c.jsx)(v,{task:t,onDelete:n,onCount:r,showList:a},t.id)}))})},k=function(t){var e=t.onAdd,n=Object(r.useState)(""),a=Object(d.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(""),u=Object(d.a)(i,2),j=u[0],l=u[1],b=Object(r.useState)(""),h=Object(d.a)(b,2),f=h[0],p=h[1];return Object(c.jsxs)("form",{className:"add-form",onSubmit:function(t){t.preventDefault(),s?(e({name:s,date:j,time:f}),o(""),l(""),p("")):alert("Please add a Habit")},children:[Object(c.jsxs)("div",{className:"form-control",children:[Object(c.jsx)("label",{children:"Habit"}),Object(c.jsx)("input",{type:"text",placeholder:"Add Habit",value:s,onChange:function(t){return o(t.target.value)}})]}),Object(c.jsxs)("div",{className:"form-control",children:[Object(c.jsx)("label",{children:"Date"}),Object(c.jsx)("input",{type:"date",value:j,onChange:function(t){return l(t.target.value)}})]}),Object(c.jsxs)("div",{className:"form-control",children:[Object(c.jsx)("label",{children:"Time"}),Object(c.jsx)("input",{type:"time",value:f,onChange:function(t){return p(t.target.value)}})]}),Object(c.jsx)("input",{type:"submit",value:"Save Habit",className:"btn btn-block"})]})};var w=function(){var t="192.168.1.48:5000",e=Object(r.useState)([]),n=Object(d.a)(e,2),a=n[0],s=n[1],o=Object(r.useState)(!1),j=Object(d.a)(o,2),h=j[0],f=j[1],p=function(){return f(!h)};Object(r.useEffect)((function(){(function(){var t=Object(b.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:e=t.sent,s(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var x=function(){var e=Object(b.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(t,"/tasks"));case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(l.a.mark((function e(n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(t,"/tasks/").concat(n));case 2:return c=e.sent,e.next=5,c.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(l.a.mark((function e(n){var c,r,o,i,j,b,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(n.date,"T").concat(n.time),r=new Date(c),o=[r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),0],(i=[]).push(o),j={id:a.length+1,name:n.name,count:1,timeSinceLast:o,occurrences:i,isListShown:!1},e.next=8,fetch("http://".concat(t,"/tasks"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(j)});case 8:return b=e.sent,e.next=11,b.json();case 11:d=e.sent,s([].concat(Object(u.a)(a),[d])),p();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(t,"/tasks/").concat(n),{method:"DELETE"});case 2:s(a.filter((function(t){return t.id!==n})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(l.a.mark((function e(n){var c,r,o,u,j,b,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Date,r=[c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()],e.next=4,m(n);case 4:return o=e.sent,(u=o.occurrences).push(r),j=Object(i.a)(Object(i.a)({},o),{},{count:o.count+1,timeSinceLast:r,occurrences:u}),e.next=10,fetch("http://".concat(t,"/tasks/").concat(n),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(j)});case 10:return b=e.sent,e.next=13,b.json();case 13:d=e.sent,s(a.map((function(t){return t.id===n?Object(i.a)(Object(i.a)({},t),{},{count:d.count,timeSinceLast:d.timeSinceLast,occurrences:d.occurrences}):t})));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(O,{showAddForm:p,showAdd:h}),h&&Object(c.jsx)(k,{onAdd:v}),a.length>0?Object(c.jsx)(g,{tasks:a,onDelete:w,onCount:S,showList:function(t){s(a.map((function(e){return e.id===t?Object(i.a)(Object(i.a)({},e),{},{isListShown:!e.isListShown}):e})))}}):Object(c.jsx)("p",{children:"No Habits... add a new one!"})]})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),S()}},[[21,1,2]]]);
//# sourceMappingURL=main.513b169e.chunk.js.map